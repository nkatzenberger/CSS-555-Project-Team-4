<html lang="en">
    <head>
        <meta http-equiv="content-type" content="text/html; charset=UTF-8">
        <meta http-equiv="X-UA-Compatible" content="chrome=1">
        <link rel="stylesheet" type="text/css" href="./public/css/styles.css"> 
        <title>EEG Signup</title>
    </head>

    <div id ="top-bar">
        <h1><a href="index.html">EEG Seizure Detection</a></h1>
      </div>  
      <div id="signup-container">
        <p class="signup-text">Sign Up to Store EEG Files</p>
        <form> 
            <span style="color:white;font-weight:bold;">Enter your email</span>
            <input type="email" id="email" name="email" placeholder="example@gmail.com"> <br>
            <span style="color:white;font-weight:bold;">Enter a password</span>
            <input type="password" id="password" name="password" placeholder="Password"> <br>
        </form>
        <button id="subm-btn">Submit</button>
        <div id="signup-errs"></div>
    </div>
    <script type="module" src="firebase.js"></script>
    <script type = "module">
        import { getAuth, createUserWithEmailAndPassword, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/10.10.0/firebase-auth.js";
        const auth = getAuth();
        var signupbtn = document.getElementById("subm-btn");
        signupbtn.addEventListener("click", function() {
        let email = document.getElementById("email").value;
        let password = document.getElementById("password").value;
            if (email == '' || password == '') {
			document.getElementById('signup-errs').innerHTML = "Missing Email or Password!";
			document.getElementById('signup-errs').style.display = "inline";
		}
        
        createUserWithEmailAndPassword(auth, email, password)
        .then((userCredential) => {
    // Signed up 
    const user = userCredential.user;
    window.location.href = "index.html";
  })
  .catch((error) => {
    const errorCode = error.code;
    const errorMessage = error.message;
    document.getElementById('signup-errs').style.display = "inline";
    document.getElementById('signup-errs').innerHTML = errorMessage ;
  });
});
    </script>
    <div id="signup-errs"></div>
    <script> 
    document.getElementById("signup-errs").style.display = "none";
    </script>
</html>